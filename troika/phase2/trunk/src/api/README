./cleanup
./bootstrap
./configure

make

make dist
make install
make doxygen-doc


################################################################################
# Cross-compiling libxml2

   export CC=your compiler
   ./configure with proper options
   make
   make install


################################################################################
# Cross-compile Phase2 for ARM.

ARM_PREFIX=/opt/Embedix/tools/

CROSSTOOL=/home/joshs/bin/crosstool-0.42
CROSSTOOL=/opt/crosstool/crosstool-0.42

ARM_PREFIX=$CROSSTOOL/result/gcc-4.1.0-glibc-2.3.2/arm-unknown-linux-gnu/arm-unknown-linux-gnu/

# First, cross-compile libxml2 and place the ARM libraries into $ARM_PREFIX/lib

# Necessary when using crosstools binaries.
PATH=$ARM_PREFIX/bin:$PATH

# Note: rationale behind also specifying --build:
#     http://www.gnu.org/software/autoconf/manual/autoconf-2.57/html_node/autoconf_164.html
./configure --host=arm-linux --build=i686-pc-linux-gnu --prefix=$ARM_PREFIX

make

# Look in here for the ARM executables and libraries:
#     src/.libs/


################################################################################
# Put stuff into arm-bin

QTE_PREFIX=/usr/local/Trolltech/QtopiaCore-4.1.2/

rm -f arm-bin/lib/*
cp $QTE_PREFIX/lib/libQtCore.so.4.1.2 arm-bin/lib
cp $QTE_PREFIX/lib/libQtGui.so.4.1.2 arm-bin/lib
cp $QTE_PREFIX/lib/libQtNetwork.so.4.1.2 arm-bin/lib
cp $QTE_PREFIX/lib/libQtCore_debug.so.4.1.2 arm-bin/lib
cp $QTE_PREFIX/lib/libQtGui_debug.so.4.1.2 arm-bin/lib
cp $QTE_PREFIX/lib/libQtNetwork_debug.so.4.1.2 arm-bin/lib

#cp $ARM_PREFIX/lib/libstdc++.so.6.0.7 arm-bin/lib
#cp $ARM_PREFIX/lib/libgcc_s.so.1 arm-bin/lib
cp $ARM_PREFIX/lib/libxml2.so.2.6.23 arm-bin/lib

#cp $ARM_PREFIX/lib/libc-2.3.2.so arm-bin/lib

rm -rf arm-bin/api
mkdir arm-bin/api
mkdir arm-bin/api/src
mkdir arm-bin/api/lib
mkdir arm-bin/api/examples

cp src/.libs/phase2 arm-bin/api/src
cp src/.libs/libphase2*so* arm-bin/lib
cp examples/* arm-bin/api/examples

./cleanup
rmbackup
cp -r src/* arm-bin/api/src

# Make utils available to gdb.
mv arm-bin/api/src/util/* arm-bin/api/src
mv arm-bin/api/src/xml/libxml2/* arm-bin/api/src
mv arm-bin/api/src/parser/* arm-bin/api/src
mv arm-bin/api/src/import/src/* arm-bin/api/src


rm -f arm-bin/gui/*
cp -f ../gui/p2gui arm-bin/gui


::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


%destructor

libtool --mode=execute gdb src/phase2

Qt4/C++

$(LIBOBJS) and $(ALLOCA)

     ./configure CC=c89 CFLAGS=-O2 LIBS=-lposix

./configure --host=arm-linux --with-linux=$ARM_PREFIX/include

The linker also needs to be arm-linux-ld not ld.
